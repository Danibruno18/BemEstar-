{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const EXPO_PUBLIC_BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${EXPO_PUBLIC_BACKEND_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, password, name, email, role) => {\n      try {\n        console.log('Tentando registrar com URL:', EXPO_PUBLIC_BACKEND_URL);\n        console.log('Dados:', {\n          username,\n          name,\n          email,\n          role\n        });\n        const response = await axios.default.post(`${EXPO_PUBLIC_BACKEND_URL}/api/auth/register`, {\n          username,\n          password,\n          name,\n          email,\n          role\n        });\n        console.log('Resposta recebida:', response.status);\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n        console.log('Registro bem-sucedido!');\n      } catch (error) {\n        console.error('Erro no registro:', error);\n        console.error('Detalhes:', error.response?.data);\n        throw new Error(error.response?.data?.detail || 'Falha ao cadastrar. Verifique os dados e tente novamente.');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":125,"map":[[13,2,26,0,"exports"],[13,9,26,0],[13,10,26,0,"AuthProvider"],[13,22,26,0],[13,25,26,0,"AuthProvider"],[13,37,26,0],[14,2,113,0,"exports"],[14,9,113,0],[14,10,113,0,"useAuth"],[14,17,113,0],[14,20,113,0,"useAuth"],[14,27,113,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,3,0],[18,6,3,0,"_axios"],[18,12,3,0],[18,15,3,0,"require"],[18,22,3,0],[18,23,3,0,"_dependencyMap"],[18,37,3,0],[19,2,3,0],[19,6,3,0,"axios"],[19,11,3,0],[19,14,3,0,"_interopDefault"],[19,29,3,0],[19,30,3,0,"_axios"],[19,36,3,0],[20,2,3,26],[20,6,3,26,"_reactJsxDevRuntime"],[20,25,3,26],[20,28,3,26,"require"],[20,35,3,26],[20,36,3,26,"_dependencyMap"],[20,50,3,26],[21,2,5,0],[21,8,5,6,"EXPO_PUBLIC_BACKEND_URL"],[21,31,5,29],[21,34,5,32,"process"],[21,41,5,39],[21,42,5,40,"env"],[21,45,5,43],[21,46,5,44,"EXPO_PUBLIC_BACKEND_URL"],[21,69,5,67],[22,2,24,0],[22,8,24,6,"AuthContext"],[22,19,24,17],[22,35,24,20],[22,39,24,20,"createContext"],[22,45,24,33],[22,46,24,33,"createContext"],[22,59,24,33],[22,61,24,63,"undefined"],[22,70,24,72],[22,71,24,73],[23,2,26,7],[23,11,26,16,"AuthProvider"],[23,23,26,28,"AuthProvider"],[23,24,26,29],[24,4,26,31,"children"],[25,2,26,71],[25,3,26,72],[25,5,26,74],[26,4,27,2],[26,10,27,8],[26,11,27,9,"user"],[26,15,27,13],[26,17,27,15,"setUser"],[26,24,27,22],[26,25,27,23],[26,28,27,26],[26,32,27,26,"useState"],[26,38,27,34],[26,39,27,34,"useState"],[26,47,27,34],[26,49,27,48],[26,53,27,52],[26,54,27,53],[27,4,28,2],[27,10,28,8],[27,11,28,9,"token"],[27,16,28,14],[27,18,28,16,"setToken"],[27,26,28,24],[27,27,28,25],[27,30,28,28],[27,34,28,28,"useState"],[27,40,28,36],[27,41,28,36,"useState"],[27,49,28,36],[27,51,28,52],[27,55,28,56],[27,56,28,57],[28,4,29,2],[28,10,29,8],[28,11,29,9,"isLoading"],[28,20,29,18],[28,22,29,20,"setIsLoading"],[28,34,29,32],[28,35,29,33],[28,38,29,36],[28,42,29,36,"useState"],[28,48,29,44],[28,49,29,44,"useState"],[28,57,29,44],[28,59,29,45],[28,63,29,49],[28,64,29,50],[29,4,31,2],[29,8,31,2,"useEffect"],[29,14,31,11],[29,15,31,11,"useEffect"],[29,24,31,11],[29,26,31,12],[29,32,31,18],[30,6,32,4,"loadStoredAuth"],[30,20,32,18],[30,21,32,19],[30,22,32,20],[31,4,33,2],[31,5,33,3],[31,7,33,5],[31,9,33,7],[31,10,33,8],[32,4,35,2],[32,10,35,8,"loadStoredAuth"],[32,24,35,22],[32,27,35,25],[32,33,35,25,"loadStoredAuth"],[32,34,35,25],[32,39,35,37],[33,6,36,4],[33,10,36,8],[34,8,37,6],[34,14,37,12,"storedToken"],[34,25,37,23],[34,28,37,26],[34,34,37,32,"AsyncStorage"],[34,46,37,44],[34,47,37,44,"default"],[34,54,37,44],[34,55,37,45,"getItem"],[34,62,37,52],[34,63,37,53],[34,70,37,60],[34,71,37,61],[35,8,38,6],[35,14,38,12,"storedUser"],[35,24,38,22],[35,27,38,25],[35,33,38,31,"AsyncStorage"],[35,45,38,43],[35,46,38,43,"default"],[35,53,38,43],[35,54,38,44,"getItem"],[35,61,38,51],[35,62,38,52],[35,68,38,58],[35,69,38,59],[36,8,40,6],[36,12,40,10,"storedToken"],[36,23,40,21],[36,27,40,25,"storedUser"],[36,37,40,35],[36,39,40,37],[37,10,41,8,"setToken"],[37,18,41,16],[37,19,41,17,"storedToken"],[37,30,41,28],[37,31,41,29],[38,10,42,8,"setUser"],[38,17,42,15],[38,18,42,16,"JSON"],[38,22,42,20],[38,23,42,21,"parse"],[38,28,42,26],[38,29,42,27,"storedUser"],[38,39,42,37],[38,40,42,38],[38,41,42,39],[39,8,43,6],[40,6,44,4],[40,7,44,5],[40,8,44,6],[40,15,44,13,"error"],[40,20,44,18],[40,22,44,20],[41,8,45,6,"console"],[41,15,45,13],[41,16,45,14,"error"],[41,21,45,19],[41,22,45,20],[41,43,45,41],[41,45,45,43,"error"],[41,50,45,48],[41,51,45,49],[42,6,46,4],[42,7,46,5],[42,16,46,14],[43,8,47,6,"setIsLoading"],[43,20,47,18],[43,21,47,19],[43,26,47,24],[43,27,47,25],[44,6,48,4],[45,4,49,2],[45,5,49,3],[46,4,51,2],[46,10,51,8,"login"],[46,15,51,13],[46,18,51,16],[46,24,51,16,"login"],[46,25,51,23,"username"],[46,33,51,39],[46,35,51,41,"password"],[46,43,51,57],[46,48,51,62],[47,6,52,4],[47,10,52,8],[48,8,53,6],[48,14,53,12,"response"],[48,22,53,20],[48,25,53,23],[48,31,53,29,"axios"],[48,36,53,34],[48,37,53,34,"default"],[48,44,53,34],[48,45,53,35,"post"],[48,49,53,39],[48,50,53,40],[48,53,53,43,"EXPO_PUBLIC_BACKEND_URL"],[48,76,53,66],[48,93,53,83],[48,95,53,85],[49,10,54,8,"username"],[49,18,54,16],[50,10,55,8,"password"],[51,8,56,6],[51,9,56,7],[51,10,56,8],[52,8,58,6],[52,14,58,12],[53,10,58,14,"access_token"],[53,22,58,26],[54,10,58,28,"user"],[54,14,58,32],[54,16,58,34,"userData"],[55,8,58,43],[55,9,58,44],[55,12,58,47,"response"],[55,20,58,55],[55,21,58,56,"data"],[55,25,58,60],[56,8,60,6],[56,14,60,12,"AsyncStorage"],[56,26,60,24],[56,27,60,24,"default"],[56,34,60,24],[56,35,60,25,"setItem"],[56,42,60,32],[56,43,60,33],[56,50,60,40],[56,52,60,42,"access_token"],[56,64,60,54],[56,65,60,55],[57,8,61,6],[57,14,61,12,"AsyncStorage"],[57,26,61,24],[57,27,61,24,"default"],[57,34,61,24],[57,35,61,25,"setItem"],[57,42,61,32],[57,43,61,33],[57,49,61,39],[57,51,61,41,"JSON"],[57,55,61,45],[57,56,61,46,"stringify"],[57,65,61,55],[57,66,61,56,"userData"],[57,74,61,64],[57,75,61,65],[57,76,61,66],[58,8,63,6,"setToken"],[58,16,63,14],[58,17,63,15,"access_token"],[58,29,63,27],[58,30,63,28],[59,8,64,6,"setUser"],[59,15,64,13],[59,16,64,14,"userData"],[59,24,64,22],[59,25,64,23],[60,6,65,4],[60,7,65,5],[60,8,65,6],[60,15,65,13,"error"],[60,20,65,23],[60,22,65,25],[61,8,66,6],[61,14,66,12],[61,18,66,16,"Error"],[61,23,66,21],[61,24,66,22,"error"],[61,29,66,27],[61,30,66,28,"response"],[61,38,66,36],[61,40,66,38,"data"],[61,44,66,42],[61,46,66,44,"detail"],[61,52,66,50],[61,56,66,54],[61,70,66,68],[61,71,66,69],[62,6,67,4],[63,4,68,2],[63,5,68,3],[64,4,70,2],[64,10,70,8,"register"],[64,18,70,16],[64,21,70,19],[64,27,70,19,"register"],[64,28,70,26,"username"],[64,36,70,42],[64,38,70,44,"password"],[64,46,70,60],[64,48,70,62,"name"],[64,52,70,74],[64,54,70,76,"email"],[64,59,70,89],[64,61,70,91,"role"],[64,65,70,103],[64,70,70,108],[65,6,71,4],[65,10,71,8],[66,8,72,6,"console"],[66,15,72,13],[66,16,72,14,"log"],[66,19,72,17],[66,20,72,18],[66,49,72,47],[66,51,72,49,"EXPO_PUBLIC_BACKEND_URL"],[66,74,72,72],[66,75,72,73],[67,8,73,6,"console"],[67,15,73,13],[67,16,73,14,"log"],[67,19,73,17],[67,20,73,18],[67,28,73,26],[67,30,73,28],[68,10,73,30,"username"],[68,18,73,38],[69,10,73,40,"name"],[69,14,73,44],[70,10,73,46,"email"],[70,15,73,51],[71,10,73,53,"role"],[72,8,73,58],[72,9,73,59],[72,10,73,60],[73,8,75,6],[73,14,75,12,"response"],[73,22,75,20],[73,25,75,23],[73,31,75,29,"axios"],[73,36,75,34],[73,37,75,34,"default"],[73,44,75,34],[73,45,75,35,"post"],[73,49,75,39],[73,50,75,40],[73,53,75,43,"EXPO_PUBLIC_BACKEND_URL"],[73,76,75,66],[73,96,75,86],[73,98,75,88],[74,10,76,8,"username"],[74,18,76,16],[75,10,77,8,"password"],[75,18,77,16],[76,10,78,8,"name"],[76,14,78,12],[77,10,79,8,"email"],[77,15,79,13],[78,10,80,8,"role"],[79,8,81,6],[79,9,81,7],[79,10,81,8],[80,8,83,6,"console"],[80,15,83,13],[80,16,83,14,"log"],[80,19,83,17],[80,20,83,18],[80,40,83,38],[80,42,83,40,"response"],[80,50,83,48],[80,51,83,49,"status"],[80,57,83,55],[80,58,83,56],[81,8,84,6],[81,14,84,12],[82,10,84,14,"access_token"],[82,22,84,26],[83,10,84,28,"user"],[83,14,84,32],[83,16,84,34,"userData"],[84,8,84,43],[84,9,84,44],[84,12,84,47,"response"],[84,20,84,55],[84,21,84,56,"data"],[84,25,84,60],[85,8,86,6],[85,14,86,12,"AsyncStorage"],[85,26,86,24],[85,27,86,24,"default"],[85,34,86,24],[85,35,86,25,"setItem"],[85,42,86,32],[85,43,86,33],[85,50,86,40],[85,52,86,42,"access_token"],[85,64,86,54],[85,65,86,55],[86,8,87,6],[86,14,87,12,"AsyncStorage"],[86,26,87,24],[86,27,87,24,"default"],[86,34,87,24],[86,35,87,25,"setItem"],[86,42,87,32],[86,43,87,33],[86,49,87,39],[86,51,87,41,"JSON"],[86,55,87,45],[86,56,87,46,"stringify"],[86,65,87,55],[86,66,87,56,"userData"],[86,74,87,64],[86,75,87,65],[86,76,87,66],[87,8,89,6,"setToken"],[87,16,89,14],[87,17,89,15,"access_token"],[87,29,89,27],[87,30,89,28],[88,8,90,6,"setUser"],[88,15,90,13],[88,16,90,14,"userData"],[88,24,90,22],[88,25,90,23],[89,8,91,6,"console"],[89,15,91,13],[89,16,91,14,"log"],[89,19,91,17],[89,20,91,18],[89,44,91,42],[89,45,91,43],[90,6,92,4],[90,7,92,5],[90,8,92,6],[90,15,92,13,"error"],[90,20,92,23],[90,22,92,25],[91,8,93,6,"console"],[91,15,93,13],[91,16,93,14,"error"],[91,21,93,19],[91,22,93,20],[91,41,93,39],[91,43,93,41,"error"],[91,48,93,46],[91,49,93,47],[92,8,94,6,"console"],[92,15,94,13],[92,16,94,14,"error"],[92,21,94,19],[92,22,94,20],[92,33,94,31],[92,35,94,33,"error"],[92,40,94,38],[92,41,94,39,"response"],[92,49,94,47],[92,51,94,49,"data"],[92,55,94,53],[92,56,94,54],[93,8,95,6],[93,14,95,12],[93,18,95,16,"Error"],[93,23,95,21],[93,24,95,22,"error"],[93,29,95,27],[93,30,95,28,"response"],[93,38,95,36],[93,40,95,38,"data"],[93,44,95,42],[93,46,95,44,"detail"],[93,52,95,50],[93,56,95,54],[93,115,95,113],[93,116,95,114],[94,6,96,4],[95,4,97,2],[95,5,97,3],[96,4,99,2],[96,10,99,8,"logout"],[96,16,99,14],[96,19,99,17],[96,25,99,17,"logout"],[96,26,99,17],[96,31,99,29],[97,6,100,4],[97,12,100,10,"AsyncStorage"],[97,24,100,22],[97,25,100,22,"default"],[97,32,100,22],[97,33,100,23,"removeItem"],[97,43,100,33],[97,44,100,34],[97,51,100,41],[97,52,100,42],[98,6,101,4],[98,12,101,10,"AsyncStorage"],[98,24,101,22],[98,25,101,22,"default"],[98,32,101,22],[98,33,101,23,"removeItem"],[98,43,101,33],[98,44,101,34],[98,50,101,40],[98,51,101,41],[99,6,102,4,"setToken"],[99,14,102,12],[99,15,102,13],[99,19,102,17],[99,20,102,18],[100,6,103,4,"setUser"],[100,13,103,11],[100,14,103,12],[100,18,103,16],[100,19,103,17],[101,4,104,2],[101,5,104,3],[102,4,106,2],[102,24,107,4],[102,28,107,4,"_reactJsxDevRuntime"],[102,47,107,4],[102,48,107,4,"jsxDEV"],[102,54,107,4],[102,56,107,5,"AuthContext"],[102,67,107,16],[102,68,107,17,"Provider"],[102,76,107,25],[103,6,107,26,"value"],[103,11,107,31],[103,13,107,33],[104,8,107,35,"user"],[104,12,107,39],[105,8,107,41,"token"],[105,13,107,46],[106,8,107,48,"login"],[106,13,107,53],[107,8,107,55,"register"],[107,16,107,63],[108,8,107,65,"logout"],[108,14,107,71],[109,8,107,73,"isLoading"],[110,6,107,83],[110,7,107,85],[111,6,107,85,"children"],[111,14,107,85],[111,16,108,7,"children"],[112,4,108,15],[113,6,108,15,"fileName"],[113,14,108,15],[113,16,108,15,"_jsxFileName"],[113,28,108,15],[114,6,108,15,"lineNumber"],[114,16,108,15],[115,6,108,15,"columnNumber"],[115,18,108,15],[116,4,108,15],[116,11,109,26],[116,12,109,27],[117,2,111,0],[118,2,113,7],[118,11,113,16,"useAuth"],[118,18,113,23,"useAuth"],[118,19,113,23],[118,21,113,26],[119,4,114,2],[119,10,114,8,"context"],[119,17,114,15],[119,20,114,18],[119,24,114,18,"useContext"],[119,30,114,28],[119,31,114,28,"useContext"],[119,41,114,28],[119,43,114,29,"AuthContext"],[119,54,114,40],[119,55,114,41],[120,4,115,2],[120,8,115,6,"context"],[120,15,115,13],[120,20,115,18,"undefined"],[120,29,115,27],[120,31,115,29],[121,6,116,4],[121,12,116,10],[121,16,116,14,"Error"],[121,21,116,19],[121,22,116,20],[121,67,116,65],[121,68,116,66],[122,4,117,2],[123,4,118,2],[123,11,118,9,"context"],[123,18,118,16],[124,2,119,0],[125,0,119,1],[125,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;OCyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJ2B;iBKE;GLK;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}