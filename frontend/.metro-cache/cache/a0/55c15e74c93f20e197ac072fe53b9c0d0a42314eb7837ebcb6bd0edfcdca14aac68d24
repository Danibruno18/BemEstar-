{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const EXPO_PUBLIC_BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${EXPO_PUBLIC_BACKEND_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, password, name, email, role) => {\n      try {\n        console.log('Tentando registrar com URL:', EXPO_PUBLIC_BACKEND_URL);\n        console.log('Dados:', {\n          username,\n          name,\n          email,\n          role\n        });\n        const response = await axios.default.post(`${EXPO_PUBLIC_BACKEND_URL}/api/auth/register`, {\n          username,\n          password,\n          name,\n          email,\n          role\n        });\n        console.log('Resposta recebida:', response.status);\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n        console.log('Registro bem-sucedido!');\n      } catch (error) {\n        console.error('Erro no registro:', error);\n        console.error('Detalhes:', error.response?.data);\n        throw new Error(error.response?.data?.detail || 'Falha ao cadastrar. Verifique os dados e tente novamente.');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":135,"map":[[15,2,26,0,"exports"],[15,9,26,0],[15,10,26,0,"AuthProvider"],[15,22,26,0],[15,25,26,0,"AuthProvider"],[15,37,26,0],[16,2,113,0,"exports"],[16,9,113,0],[16,10,113,0,"useAuth"],[16,17,113,0],[16,20,113,0,"useAuth"],[16,27,113,0],[17,2,119,1],[17,6,119,1,"_expoVirtualEnv"],[17,21,119,1],[17,24,119,1,"require"],[17,31,119,1],[17,32,119,1,"_dependencyMap"],[17,46,119,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,3,26],[23,6,3,26,"_reactJsxDevRuntime"],[23,25,3,26],[23,28,3,26,"require"],[23,35,3,26],[23,36,3,26,"_dependencyMap"],[23,50,3,26],[24,2,5,0],[24,8,5,6,"EXPO_PUBLIC_BACKEND_URL"],[24,31,5,29],[24,34,5,29,"_expoVirtualEnv"],[24,49,5,29],[24,50,5,29,"env"],[24,53,5,29],[24,54,5,29,"EXPO_PUBLIC_BACKEND_URL"],[24,77,5,67],[25,2,24,0],[25,8,24,6,"AuthContext"],[25,19,24,17],[25,35,24,20],[25,39,24,20,"createContext"],[25,45,24,33],[25,46,24,33,"createContext"],[25,59,24,33],[25,61,24,63,"undefined"],[25,70,24,72],[25,71,24,73],[26,2,26,7],[26,11,26,16,"AuthProvider"],[26,23,26,28,"AuthProvider"],[26,24,26,29],[27,4,26,31,"children"],[28,2,26,71],[28,3,26,72],[28,5,26,74],[29,4,26,74,"_s"],[29,6,26,74],[30,4,27,2],[30,10,27,8],[30,11,27,9,"user"],[30,15,27,13],[30,17,27,15,"setUser"],[30,24,27,22],[30,25,27,23],[30,28,27,26],[30,32,27,26,"useState"],[30,38,27,34],[30,39,27,34,"useState"],[30,47,27,34],[30,49,27,48],[30,53,27,52],[30,54,27,53],[31,4,28,2],[31,10,28,8],[31,11,28,9,"token"],[31,16,28,14],[31,18,28,16,"setToken"],[31,26,28,24],[31,27,28,25],[31,30,28,28],[31,34,28,28,"useState"],[31,40,28,36],[31,41,28,36,"useState"],[31,49,28,36],[31,51,28,52],[31,55,28,56],[31,56,28,57],[32,4,29,2],[32,10,29,8],[32,11,29,9,"isLoading"],[32,20,29,18],[32,22,29,20,"setIsLoading"],[32,34,29,32],[32,35,29,33],[32,38,29,36],[32,42,29,36,"useState"],[32,48,29,44],[32,49,29,44,"useState"],[32,57,29,44],[32,59,29,45],[32,63,29,49],[32,64,29,50],[33,4,31,2],[33,8,31,2,"useEffect"],[33,14,31,11],[33,15,31,11,"useEffect"],[33,24,31,11],[33,26,31,12],[33,32,31,18],[34,6,32,4,"loadStoredAuth"],[34,20,32,18],[34,21,32,19],[34,22,32,20],[35,4,33,2],[35,5,33,3],[35,7,33,5],[35,9,33,7],[35,10,33,8],[36,4,35,2],[36,10,35,8,"loadStoredAuth"],[36,24,35,22],[36,27,35,25],[36,33,35,25,"loadStoredAuth"],[36,34,35,25],[36,39,35,37],[37,6,36,4],[37,10,36,8],[38,8,37,6],[38,14,37,12,"storedToken"],[38,25,37,23],[38,28,37,26],[38,34,37,32,"AsyncStorage"],[38,46,37,44],[38,47,37,44,"default"],[38,54,37,44],[38,55,37,45,"getItem"],[38,62,37,52],[38,63,37,53],[38,70,37,60],[38,71,37,61],[39,8,38,6],[39,14,38,12,"storedUser"],[39,24,38,22],[39,27,38,25],[39,33,38,31,"AsyncStorage"],[39,45,38,43],[39,46,38,43,"default"],[39,53,38,43],[39,54,38,44,"getItem"],[39,61,38,51],[39,62,38,52],[39,68,38,58],[39,69,38,59],[40,8,40,6],[40,12,40,10,"storedToken"],[40,23,40,21],[40,27,40,25,"storedUser"],[40,37,40,35],[40,39,40,37],[41,10,41,8,"setToken"],[41,18,41,16],[41,19,41,17,"storedToken"],[41,30,41,28],[41,31,41,29],[42,10,42,8,"setUser"],[42,17,42,15],[42,18,42,16,"JSON"],[42,22,42,20],[42,23,42,21,"parse"],[42,28,42,26],[42,29,42,27,"storedUser"],[42,39,42,37],[42,40,42,38],[42,41,42,39],[43,8,43,6],[44,6,44,4],[44,7,44,5],[44,8,44,6],[44,15,44,13,"error"],[44,20,44,18],[44,22,44,20],[45,8,45,6,"console"],[45,15,45,13],[45,16,45,14,"error"],[45,21,45,19],[45,22,45,20],[45,43,45,41],[45,45,45,43,"error"],[45,50,45,48],[45,51,45,49],[46,6,46,4],[46,7,46,5],[46,16,46,14],[47,8,47,6,"setIsLoading"],[47,20,47,18],[47,21,47,19],[47,26,47,24],[47,27,47,25],[48,6,48,4],[49,4,49,2],[49,5,49,3],[50,4,51,2],[50,10,51,8,"login"],[50,15,51,13],[50,18,51,16],[50,24,51,16,"login"],[50,25,51,23,"username"],[50,33,51,39],[50,35,51,41,"password"],[50,43,51,57],[50,48,51,62],[51,6,52,4],[51,10,52,8],[52,8,53,6],[52,14,53,12,"response"],[52,22,53,20],[52,25,53,23],[52,31,53,29,"axios"],[52,36,53,34],[52,37,53,34,"default"],[52,44,53,34],[52,45,53,35,"post"],[52,49,53,39],[52,50,53,40],[52,53,53,43,"EXPO_PUBLIC_BACKEND_URL"],[52,76,53,66],[52,93,53,83],[52,95,53,85],[53,10,54,8,"username"],[53,18,54,16],[54,10,55,8,"password"],[55,8,56,6],[55,9,56,7],[55,10,56,8],[56,8,58,6],[56,14,58,12],[57,10,58,14,"access_token"],[57,22,58,26],[58,10,58,28,"user"],[58,14,58,32],[58,16,58,34,"userData"],[59,8,58,43],[59,9,58,44],[59,12,58,47,"response"],[59,20,58,55],[59,21,58,56,"data"],[59,25,58,60],[60,8,60,6],[60,14,60,12,"AsyncStorage"],[60,26,60,24],[60,27,60,24,"default"],[60,34,60,24],[60,35,60,25,"setItem"],[60,42,60,32],[60,43,60,33],[60,50,60,40],[60,52,60,42,"access_token"],[60,64,60,54],[60,65,60,55],[61,8,61,6],[61,14,61,12,"AsyncStorage"],[61,26,61,24],[61,27,61,24,"default"],[61,34,61,24],[61,35,61,25,"setItem"],[61,42,61,32],[61,43,61,33],[61,49,61,39],[61,51,61,41,"JSON"],[61,55,61,45],[61,56,61,46,"stringify"],[61,65,61,55],[61,66,61,56,"userData"],[61,74,61,64],[61,75,61,65],[61,76,61,66],[62,8,63,6,"setToken"],[62,16,63,14],[62,17,63,15,"access_token"],[62,29,63,27],[62,30,63,28],[63,8,64,6,"setUser"],[63,15,64,13],[63,16,64,14,"userData"],[63,24,64,22],[63,25,64,23],[64,6,65,4],[64,7,65,5],[64,8,65,6],[64,15,65,13,"error"],[64,20,65,23],[64,22,65,25],[65,8,66,6],[65,14,66,12],[65,18,66,16,"Error"],[65,23,66,21],[65,24,66,22,"error"],[65,29,66,27],[65,30,66,28,"response"],[65,38,66,36],[65,40,66,38,"data"],[65,44,66,42],[65,46,66,44,"detail"],[65,52,66,50],[65,56,66,54],[65,70,66,68],[65,71,66,69],[66,6,67,4],[67,4,68,2],[67,5,68,3],[68,4,70,2],[68,10,70,8,"register"],[68,18,70,16],[68,21,70,19],[68,27,70,19,"register"],[68,28,70,26,"username"],[68,36,70,42],[68,38,70,44,"password"],[68,46,70,60],[68,48,70,62,"name"],[68,52,70,74],[68,54,70,76,"email"],[68,59,70,89],[68,61,70,91,"role"],[68,65,70,103],[68,70,70,108],[69,6,71,4],[69,10,71,8],[70,8,72,6,"console"],[70,15,72,13],[70,16,72,14,"log"],[70,19,72,17],[70,20,72,18],[70,49,72,47],[70,51,72,49,"EXPO_PUBLIC_BACKEND_URL"],[70,74,72,72],[70,75,72,73],[71,8,73,6,"console"],[71,15,73,13],[71,16,73,14,"log"],[71,19,73,17],[71,20,73,18],[71,28,73,26],[71,30,73,28],[72,10,73,30,"username"],[72,18,73,38],[73,10,73,40,"name"],[73,14,73,44],[74,10,73,46,"email"],[74,15,73,51],[75,10,73,53,"role"],[76,8,73,58],[76,9,73,59],[76,10,73,60],[77,8,75,6],[77,14,75,12,"response"],[77,22,75,20],[77,25,75,23],[77,31,75,29,"axios"],[77,36,75,34],[77,37,75,34,"default"],[77,44,75,34],[77,45,75,35,"post"],[77,49,75,39],[77,50,75,40],[77,53,75,43,"EXPO_PUBLIC_BACKEND_URL"],[77,76,75,66],[77,96,75,86],[77,98,75,88],[78,10,76,8,"username"],[78,18,76,16],[79,10,77,8,"password"],[79,18,77,16],[80,10,78,8,"name"],[80,14,78,12],[81,10,79,8,"email"],[81,15,79,13],[82,10,80,8,"role"],[83,8,81,6],[83,9,81,7],[83,10,81,8],[84,8,83,6,"console"],[84,15,83,13],[84,16,83,14,"log"],[84,19,83,17],[84,20,83,18],[84,40,83,38],[84,42,83,40,"response"],[84,50,83,48],[84,51,83,49,"status"],[84,57,83,55],[84,58,83,56],[85,8,84,6],[85,14,84,12],[86,10,84,14,"access_token"],[86,22,84,26],[87,10,84,28,"user"],[87,14,84,32],[87,16,84,34,"userData"],[88,8,84,43],[88,9,84,44],[88,12,84,47,"response"],[88,20,84,55],[88,21,84,56,"data"],[88,25,84,60],[89,8,86,6],[89,14,86,12,"AsyncStorage"],[89,26,86,24],[89,27,86,24,"default"],[89,34,86,24],[89,35,86,25,"setItem"],[89,42,86,32],[89,43,86,33],[89,50,86,40],[89,52,86,42,"access_token"],[89,64,86,54],[89,65,86,55],[90,8,87,6],[90,14,87,12,"AsyncStorage"],[90,26,87,24],[90,27,87,24,"default"],[90,34,87,24],[90,35,87,25,"setItem"],[90,42,87,32],[90,43,87,33],[90,49,87,39],[90,51,87,41,"JSON"],[90,55,87,45],[90,56,87,46,"stringify"],[90,65,87,55],[90,66,87,56,"userData"],[90,74,87,64],[90,75,87,65],[90,76,87,66],[91,8,89,6,"setToken"],[91,16,89,14],[91,17,89,15,"access_token"],[91,29,89,27],[91,30,89,28],[92,8,90,6,"setUser"],[92,15,90,13],[92,16,90,14,"userData"],[92,24,90,22],[92,25,90,23],[93,8,91,6,"console"],[93,15,91,13],[93,16,91,14,"log"],[93,19,91,17],[93,20,91,18],[93,44,91,42],[93,45,91,43],[94,6,92,4],[94,7,92,5],[94,8,92,6],[94,15,92,13,"error"],[94,20,92,23],[94,22,92,25],[95,8,93,6,"console"],[95,15,93,13],[95,16,93,14,"error"],[95,21,93,19],[95,22,93,20],[95,41,93,39],[95,43,93,41,"error"],[95,48,93,46],[95,49,93,47],[96,8,94,6,"console"],[96,15,94,13],[96,16,94,14,"error"],[96,21,94,19],[96,22,94,20],[96,33,94,31],[96,35,94,33,"error"],[96,40,94,38],[96,41,94,39,"response"],[96,49,94,47],[96,51,94,49,"data"],[96,55,94,53],[96,56,94,54],[97,8,95,6],[97,14,95,12],[97,18,95,16,"Error"],[97,23,95,21],[97,24,95,22,"error"],[97,29,95,27],[97,30,95,28,"response"],[97,38,95,36],[97,40,95,38,"data"],[97,44,95,42],[97,46,95,44,"detail"],[97,52,95,50],[97,56,95,54],[97,115,95,113],[97,116,95,114],[98,6,96,4],[99,4,97,2],[99,5,97,3],[100,4,99,2],[100,10,99,8,"logout"],[100,16,99,14],[100,19,99,17],[100,25,99,17,"logout"],[100,26,99,17],[100,31,99,29],[101,6,100,4],[101,12,100,10,"AsyncStorage"],[101,24,100,22],[101,25,100,22,"default"],[101,32,100,22],[101,33,100,23,"removeItem"],[101,43,100,33],[101,44,100,34],[101,51,100,41],[101,52,100,42],[102,6,101,4],[102,12,101,10,"AsyncStorage"],[102,24,101,22],[102,25,101,22,"default"],[102,32,101,22],[102,33,101,23,"removeItem"],[102,43,101,33],[102,44,101,34],[102,50,101,40],[102,51,101,41],[103,6,102,4,"setToken"],[103,14,102,12],[103,15,102,13],[103,19,102,17],[103,20,102,18],[104,6,103,4,"setUser"],[104,13,103,11],[104,14,103,12],[104,18,103,16],[104,19,103,17],[105,4,104,2],[105,5,104,3],[106,4,106,2],[106,24,107,4],[106,28,107,4,"_reactJsxDevRuntime"],[106,47,107,4],[106,48,107,4,"jsxDEV"],[106,54,107,4],[106,56,107,5,"AuthContext"],[106,67,107,16],[106,68,107,17,"Provider"],[106,76,107,25],[107,6,107,26,"value"],[107,11,107,31],[107,13,107,33],[108,8,107,35,"user"],[108,12,107,39],[109,8,107,41,"token"],[109,13,107,46],[110,8,107,48,"login"],[110,13,107,53],[111,8,107,55,"register"],[111,16,107,63],[112,8,107,65,"logout"],[112,14,107,71],[113,8,107,73,"isLoading"],[114,6,107,83],[114,7,107,85],[115,6,107,85,"children"],[115,14,107,85],[115,16,108,7,"children"],[116,4,108,15],[117,6,108,15,"fileName"],[117,14,108,15],[117,16,108,15,"_jsxFileName"],[117,28,108,15],[118,6,108,15,"lineNumber"],[118,16,108,15],[119,6,108,15,"columnNumber"],[119,18,108,15],[120,4,108,15],[120,11,109,26],[120,12,109,27],[121,2,111,0],[122,2,111,1,"_s"],[122,4,111,1],[122,5,26,16,"AuthProvider"],[122,17,26,28],[123,2,26,28,"_c"],[123,4,26,28],[123,7,26,16,"AuthProvider"],[123,19,26,28],[124,2,113,7],[124,11,113,16,"useAuth"],[124,18,113,23,"useAuth"],[124,19,113,23],[124,21,113,26],[125,4,113,26,"_s2"],[125,7,113,26],[126,4,114,2],[126,10,114,8,"context"],[126,17,114,15],[126,20,114,18],[126,24,114,18,"useContext"],[126,30,114,28],[126,31,114,28,"useContext"],[126,41,114,28],[126,43,114,29,"AuthContext"],[126,54,114,40],[126,55,114,41],[127,4,115,2],[127,8,115,6,"context"],[127,15,115,13],[127,20,115,18,"undefined"],[127,29,115,27],[127,31,115,29],[128,6,116,4],[128,12,116,10],[128,16,116,14,"Error"],[128,21,116,19],[128,22,116,20],[128,67,116,65],[128,68,116,66],[129,4,117,2],[130,4,118,2],[130,11,118,9,"context"],[130,18,118,16],[131,2,119,0],[132,2,119,1,"_s2"],[132,5,119,1],[132,6,113,16,"useAuth"],[132,13,113,23],[133,2,113,23],[133,6,113,23,"_c"],[133,8,113,23],[134,2,113,23,"$RefreshReg$"],[134,14,113,23],[134,15,113,23,"_c"],[134,17,113,23],[135,0,113,23],[135,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;OCyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJ2B;iBKE;GLK;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}