{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const EXPO_PUBLIC_BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${EXPO_PUBLIC_BACKEND_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, password, name, email, role) => {\n      try {\n        const response = await axios.default.post(`${EXPO_PUBLIC_BACKEND_URL}/api/auth/register`, {\n          username,\n          password,\n          name,\n          email,\n          role\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      await AsyncStorage.default.removeItem('user');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        register,\n        logout,\n        isLoading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"mX4/AXRUN66G8j/NKXHYWKblzjI=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":124,"map":[[15,2,26,0,"exports"],[15,9,26,0],[15,10,26,0,"AuthProvider"],[15,22,26,0],[15,25,26,0,"AuthProvider"],[15,37,26,0],[16,2,106,0,"exports"],[16,9,106,0],[16,10,106,0,"useAuth"],[16,17,106,0],[16,20,106,0,"useAuth"],[16,27,106,0],[17,2,112,1],[17,6,112,1,"_expoVirtualEnv"],[17,21,112,1],[17,24,112,1,"require"],[17,31,112,1],[17,32,112,1,"_dependencyMap"],[17,46,112,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,3,26],[23,6,3,26,"_reactJsxDevRuntime"],[23,25,3,26],[23,28,3,26,"require"],[23,35,3,26],[23,36,3,26,"_dependencyMap"],[23,50,3,26],[24,2,5,0],[24,8,5,6,"EXPO_PUBLIC_BACKEND_URL"],[24,31,5,29],[24,34,5,29,"_expoVirtualEnv"],[24,49,5,29],[24,50,5,29,"env"],[24,53,5,29],[24,54,5,29,"EXPO_PUBLIC_BACKEND_URL"],[24,77,5,67],[25,2,24,0],[25,8,24,6,"AuthContext"],[25,19,24,17],[25,35,24,20],[25,39,24,20,"createContext"],[25,45,24,33],[25,46,24,33,"createContext"],[25,59,24,33],[25,61,24,63,"undefined"],[25,70,24,72],[25,71,24,73],[26,2,26,7],[26,11,26,16,"AuthProvider"],[26,23,26,28,"AuthProvider"],[26,24,26,29],[27,4,26,31,"children"],[28,2,26,71],[28,3,26,72],[28,5,26,74],[29,4,26,74,"_s"],[29,6,26,74],[30,4,27,2],[30,10,27,8],[30,11,27,9,"user"],[30,15,27,13],[30,17,27,15,"setUser"],[30,24,27,22],[30,25,27,23],[30,28,27,26],[30,32,27,26,"useState"],[30,38,27,34],[30,39,27,34,"useState"],[30,47,27,34],[30,49,27,48],[30,53,27,52],[30,54,27,53],[31,4,28,2],[31,10,28,8],[31,11,28,9,"token"],[31,16,28,14],[31,18,28,16,"setToken"],[31,26,28,24],[31,27,28,25],[31,30,28,28],[31,34,28,28,"useState"],[31,40,28,36],[31,41,28,36,"useState"],[31,49,28,36],[31,51,28,52],[31,55,28,56],[31,56,28,57],[32,4,29,2],[32,10,29,8],[32,11,29,9,"isLoading"],[32,20,29,18],[32,22,29,20,"setIsLoading"],[32,34,29,32],[32,35,29,33],[32,38,29,36],[32,42,29,36,"useState"],[32,48,29,44],[32,49,29,44,"useState"],[32,57,29,44],[32,59,29,45],[32,63,29,49],[32,64,29,50],[33,4,31,2],[33,8,31,2,"useEffect"],[33,14,31,11],[33,15,31,11,"useEffect"],[33,24,31,11],[33,26,31,12],[33,32,31,18],[34,6,32,4,"loadStoredAuth"],[34,20,32,18],[34,21,32,19],[34,22,32,20],[35,4,33,2],[35,5,33,3],[35,7,33,5],[35,9,33,7],[35,10,33,8],[36,4,35,2],[36,10,35,8,"loadStoredAuth"],[36,24,35,22],[36,27,35,25],[36,33,35,25,"loadStoredAuth"],[36,34,35,25],[36,39,35,37],[37,6,36,4],[37,10,36,8],[38,8,37,6],[38,14,37,12,"storedToken"],[38,25,37,23],[38,28,37,26],[38,34,37,32,"AsyncStorage"],[38,46,37,44],[38,47,37,44,"default"],[38,54,37,44],[38,55,37,45,"getItem"],[38,62,37,52],[38,63,37,53],[38,70,37,60],[38,71,37,61],[39,8,38,6],[39,14,38,12,"storedUser"],[39,24,38,22],[39,27,38,25],[39,33,38,31,"AsyncStorage"],[39,45,38,43],[39,46,38,43,"default"],[39,53,38,43],[39,54,38,44,"getItem"],[39,61,38,51],[39,62,38,52],[39,68,38,58],[39,69,38,59],[40,8,40,6],[40,12,40,10,"storedToken"],[40,23,40,21],[40,27,40,25,"storedUser"],[40,37,40,35],[40,39,40,37],[41,10,41,8,"setToken"],[41,18,41,16],[41,19,41,17,"storedToken"],[41,30,41,28],[41,31,41,29],[42,10,42,8,"setUser"],[42,17,42,15],[42,18,42,16,"JSON"],[42,22,42,20],[42,23,42,21,"parse"],[42,28,42,26],[42,29,42,27,"storedUser"],[42,39,42,37],[42,40,42,38],[42,41,42,39],[43,8,43,6],[44,6,44,4],[44,7,44,5],[44,8,44,6],[44,15,44,13,"error"],[44,20,44,18],[44,22,44,20],[45,8,45,6,"console"],[45,15,45,13],[45,16,45,14,"error"],[45,21,45,19],[45,22,45,20],[45,43,45,41],[45,45,45,43,"error"],[45,50,45,48],[45,51,45,49],[46,6,46,4],[46,7,46,5],[46,16,46,14],[47,8,47,6,"setIsLoading"],[47,20,47,18],[47,21,47,19],[47,26,47,24],[47,27,47,25],[48,6,48,4],[49,4,49,2],[49,5,49,3],[50,4,51,2],[50,10,51,8,"login"],[50,15,51,13],[50,18,51,16],[50,24,51,16,"login"],[50,25,51,23,"username"],[50,33,51,39],[50,35,51,41,"password"],[50,43,51,57],[50,48,51,62],[51,6,52,4],[51,10,52,8],[52,8,53,6],[52,14,53,12,"response"],[52,22,53,20],[52,25,53,23],[52,31,53,29,"axios"],[52,36,53,34],[52,37,53,34,"default"],[52,44,53,34],[52,45,53,35,"post"],[52,49,53,39],[52,50,53,40],[52,53,53,43,"EXPO_PUBLIC_BACKEND_URL"],[52,76,53,66],[52,93,53,83],[52,95,53,85],[53,10,54,8,"username"],[53,18,54,16],[54,10,55,8,"password"],[55,8,56,6],[55,9,56,7],[55,10,56,8],[56,8,58,6],[56,14,58,12],[57,10,58,14,"access_token"],[57,22,58,26],[58,10,58,28,"user"],[58,14,58,32],[58,16,58,34,"userData"],[59,8,58,43],[59,9,58,44],[59,12,58,47,"response"],[59,20,58,55],[59,21,58,56,"data"],[59,25,58,60],[60,8,60,6],[60,14,60,12,"AsyncStorage"],[60,26,60,24],[60,27,60,24,"default"],[60,34,60,24],[60,35,60,25,"setItem"],[60,42,60,32],[60,43,60,33],[60,50,60,40],[60,52,60,42,"access_token"],[60,64,60,54],[60,65,60,55],[61,8,61,6],[61,14,61,12,"AsyncStorage"],[61,26,61,24],[61,27,61,24,"default"],[61,34,61,24],[61,35,61,25,"setItem"],[61,42,61,32],[61,43,61,33],[61,49,61,39],[61,51,61,41,"JSON"],[61,55,61,45],[61,56,61,46,"stringify"],[61,65,61,55],[61,66,61,56,"userData"],[61,74,61,64],[61,75,61,65],[61,76,61,66],[62,8,63,6,"setToken"],[62,16,63,14],[62,17,63,15,"access_token"],[62,29,63,27],[62,30,63,28],[63,8,64,6,"setUser"],[63,15,64,13],[63,16,64,14,"userData"],[63,24,64,22],[63,25,64,23],[64,6,65,4],[64,7,65,5],[64,8,65,6],[64,15,65,13,"error"],[64,20,65,23],[64,22,65,25],[65,8,66,6],[65,14,66,12],[65,18,66,16,"Error"],[65,23,66,21],[65,24,66,22,"error"],[65,29,66,27],[65,30,66,28,"response"],[65,38,66,36],[65,40,66,38,"data"],[65,44,66,42],[65,46,66,44,"detail"],[65,52,66,50],[65,56,66,54],[65,70,66,68],[65,71,66,69],[66,6,67,4],[67,4,68,2],[67,5,68,3],[68,4,70,2],[68,10,70,8,"register"],[68,18,70,16],[68,21,70,19],[68,27,70,19,"register"],[68,28,70,26,"username"],[68,36,70,42],[68,38,70,44,"password"],[68,46,70,60],[68,48,70,62,"name"],[68,52,70,74],[68,54,70,76,"email"],[68,59,70,89],[68,61,70,91,"role"],[68,65,70,103],[68,70,70,108],[69,6,71,4],[69,10,71,8],[70,8,72,6],[70,14,72,12,"response"],[70,22,72,20],[70,25,72,23],[70,31,72,29,"axios"],[70,36,72,34],[70,37,72,34,"default"],[70,44,72,34],[70,45,72,35,"post"],[70,49,72,39],[70,50,72,40],[70,53,72,43,"EXPO_PUBLIC_BACKEND_URL"],[70,76,72,66],[70,96,72,86],[70,98,72,88],[71,10,73,8,"username"],[71,18,73,16],[72,10,74,8,"password"],[72,18,74,16],[73,10,75,8,"name"],[73,14,75,12],[74,10,76,8,"email"],[74,15,76,13],[75,10,77,8,"role"],[76,8,78,6],[76,9,78,7],[76,10,78,8],[77,8,80,6],[77,14,80,12],[78,10,80,14,"access_token"],[78,22,80,26],[79,10,80,28,"user"],[79,14,80,32],[79,16,80,34,"userData"],[80,8,80,43],[80,9,80,44],[80,12,80,47,"response"],[80,20,80,55],[80,21,80,56,"data"],[80,25,80,60],[81,8,82,6],[81,14,82,12,"AsyncStorage"],[81,26,82,24],[81,27,82,24,"default"],[81,34,82,24],[81,35,82,25,"setItem"],[81,42,82,32],[81,43,82,33],[81,50,82,40],[81,52,82,42,"access_token"],[81,64,82,54],[81,65,82,55],[82,8,83,6],[82,14,83,12,"AsyncStorage"],[82,26,83,24],[82,27,83,24,"default"],[82,34,83,24],[82,35,83,25,"setItem"],[82,42,83,32],[82,43,83,33],[82,49,83,39],[82,51,83,41,"JSON"],[82,55,83,45],[82,56,83,46,"stringify"],[82,65,83,55],[82,66,83,56,"userData"],[82,74,83,64],[82,75,83,65],[82,76,83,66],[83,8,85,6,"setToken"],[83,16,85,14],[83,17,85,15,"access_token"],[83,29,85,27],[83,30,85,28],[84,8,86,6,"setUser"],[84,15,86,13],[84,16,86,14,"userData"],[84,24,86,22],[84,25,86,23],[85,6,87,4],[85,7,87,5],[85,8,87,6],[85,15,87,13,"error"],[85,20,87,23],[85,22,87,25],[86,8,88,6],[86,14,88,12],[86,18,88,16,"Error"],[86,23,88,21],[86,24,88,22,"error"],[86,29,88,27],[86,30,88,28,"response"],[86,38,88,36],[86,40,88,38,"data"],[86,44,88,42],[86,46,88,44,"detail"],[86,52,88,50],[86,56,88,54],[86,77,88,75],[86,78,88,76],[87,6,89,4],[88,4,90,2],[88,5,90,3],[89,4,92,2],[89,10,92,8,"logout"],[89,16,92,14],[89,19,92,17],[89,25,92,17,"logout"],[89,26,92,17],[89,31,92,29],[90,6,93,4],[90,12,93,10,"AsyncStorage"],[90,24,93,22],[90,25,93,22,"default"],[90,32,93,22],[90,33,93,23,"removeItem"],[90,43,93,33],[90,44,93,34],[90,51,93,41],[90,52,93,42],[91,6,94,4],[91,12,94,10,"AsyncStorage"],[91,24,94,22],[91,25,94,22,"default"],[91,32,94,22],[91,33,94,23,"removeItem"],[91,43,94,33],[91,44,94,34],[91,50,94,40],[91,51,94,41],[92,6,95,4,"setToken"],[92,14,95,12],[92,15,95,13],[92,19,95,17],[92,20,95,18],[93,6,96,4,"setUser"],[93,13,96,11],[93,14,96,12],[93,18,96,16],[93,19,96,17],[94,4,97,2],[94,5,97,3],[95,4,99,2],[95,24,100,4],[95,28,100,4,"_reactJsxDevRuntime"],[95,47,100,4],[95,48,100,4,"jsxDEV"],[95,54,100,4],[95,56,100,5,"AuthContext"],[95,67,100,16],[95,68,100,17,"Provider"],[95,76,100,25],[96,6,100,26,"value"],[96,11,100,31],[96,13,100,33],[97,8,100,35,"user"],[97,12,100,39],[98,8,100,41,"token"],[98,13,100,46],[99,8,100,48,"login"],[99,13,100,53],[100,8,100,55,"register"],[100,16,100,63],[101,8,100,65,"logout"],[101,14,100,71],[102,8,100,73,"isLoading"],[103,6,100,83],[103,7,100,85],[104,6,100,85,"children"],[104,14,100,85],[104,16,101,7,"children"],[105,4,101,15],[106,6,101,15,"fileName"],[106,14,101,15],[106,16,101,15,"_jsxFileName"],[106,28,101,15],[107,6,101,15,"lineNumber"],[107,16,101,15],[108,6,101,15,"columnNumber"],[108,18,101,15],[109,4,101,15],[109,11,102,26],[109,12,102,27],[110,2,104,0],[111,2,104,1,"_s"],[111,4,104,1],[111,5,26,16,"AuthProvider"],[111,17,26,28],[112,2,26,28,"_c"],[112,4,26,28],[112,7,26,16,"AuthProvider"],[112,19,26,28],[113,2,106,7],[113,11,106,16,"useAuth"],[113,18,106,23,"useAuth"],[113,19,106,23],[113,21,106,26],[114,4,106,26,"_s2"],[114,7,106,26],[115,4,107,2],[115,10,107,8,"context"],[115,17,107,15],[115,20,107,18],[115,24,107,18,"useContext"],[115,30,107,28],[115,31,107,28,"useContext"],[115,41,107,28],[115,43,107,29,"AuthContext"],[115,54,107,40],[115,55,107,41],[116,4,108,2],[116,8,108,6,"context"],[116,15,108,13],[116,20,108,18,"undefined"],[116,29,108,27],[116,31,108,29],[117,6,109,4],[117,12,109,10],[117,16,109,14,"Error"],[117,21,109,19],[117,22,109,20],[117,67,109,65],[117,68,109,66],[118,4,110,2],[119,4,111,2],[119,11,111,9,"context"],[119,18,111,16],[120,2,112,0],[121,2,112,1,"_s2"],[121,5,112,1],[121,6,106,16,"useAuth"],[121,13,106,23],[122,2,106,23],[122,6,106,23,"_c"],[122,8,106,23],[123,2,106,23,"$RefreshReg$"],[123,14,106,23],[123,15,106,23,"_c"],[123,17,106,23],[124,0,106,23],[124,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","register","logout","useAuth"],"mappings":"AAA;OCyB;YCK;GDE;yBEE;GFc;gBGE;GHiB;mBIE;GJoB;iBKE;GLK;CDO;OOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}